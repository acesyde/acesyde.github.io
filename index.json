[{"content":"🧼 Reduce your boilerplate As mentioned in Part 1, we’ve moved away from Makefiles and bash scripts in favor of mise. In this final post of the series, I’ll walk you through how we’ve taken things further by sharing tasks across projects and environments—speeding up onboarding and keeping things consistent between dev machines and CI/CD.\n⚙️ How tasks work in mise mise offers multiple ways to define and run tasks. After experimenting, we’ve decided to use a mix of both TOML-based and file-based tasks to get the best of both worlds.\nTOML-based tasks The most straightforward way is to define tasks directly in your mise.toml using the TOML format:\n[tasks.serve] description = \u0026#34;Serve the site\u0026#34; run = \u0026#34;hugo serve\u0026#34; That’s easy and declarative—but if you need more logic or control, it gets limiting fast.\nFile-based tasks For more flexibility, we use file tasks. These are regular scripts that live in files. You can use any scripting language, but we’ve chosen to stick with bash. Why? Because a lot of our previous tooling was already in bash and Makefiles, so migrating was mostly a copy-paste job.\nExample:\n#!/usr/bin/env bash #MISE description=\u0026#34;Serve the site\u0026#34; hugo serve 💼 In the real world Now that we’ve got the basics down, let’s look at how we’ve applied this setup in our actual day-to-day work.\n📦 Centralized task repository To encourage reusability, we created a centralized repository with a clear structure for all shared tasks:\n. ├── shared-tasks │ ├── download-tasks │ ├── aws │ │ ├── check-prerequisites │ │ └── login │ ├── azure │ ├── docker │ ├── poetry │ ├── precommit │ ├── python │ ├── rust │ ├── terraform │ └── terragrunt └── tasks └── lint We grouped related tasks (e.g. aws, azure, etc.) into folders and added a standard check-prerequisites task in each group to ensure required tools are installed.\nExample:\n#!/usr/bin/env bash #MISE description=\u0026#34;✅ Check prerequisites for aws\u0026#34; set -e if ! command -v aws \u0026amp;\u0026gt; /dev/null; then echo \u0026#34;❌ AWS CLI is not installed\u0026#34; exit 1 fi Then, other tasks in that group can declare a dependency on this check:\n#!/usr/bin/env bash #MISE description=\u0026#34;🔑 Login to AWS\u0026#34; #MISE depends=[\u0026#34;aws:check-prerequisites\u0026#34;] set -e if [ -z \u0026#34;$AWS_PROFILE\u0026#34; ]; then echo \u0026#34;AWS_PROFILE env variable is not set\u0026#34; exit 1 fi echo \u0026#34;🔑 Logging in to AWS...\u0026#34; aws sso login --profile $AWS_PROFILE 📥 The download-tasks script The backbone of our shared task system is a special script: download-tasks. Think of it as our little automation butler—it fetches selected task groups from the shared repository and installs them in your local project directory.\nHere’s why it’s a game-changer:\n✅ Versioning: Tasks are pulled from a specific tag or branch, ensuring consistency across teams and CI environments. 📦 Selective installation: You only download what you need. This keeps your project tidy and avoids unnecessary bloat. 🔄 Reproducibility: By pinning the task version, your tasks won’t suddenly change under your feet. 🧹 Clean environment: The script deletes and re-creates the target folder every time, so you’re always working with a fresh copy. 🧩 Plug-and-play: Once tasks are in place, mise recognizes them immediately. No need for extra config. Let’s look at the script:\n#!/usr/bin/env bash #MISE description=\u0026#34;📥 Download and install tasks\u0026#34; #USAGE arg \u0026#34;\u0026lt;version\u0026gt;\u0026#34; help=\u0026#34;Version of the tasks to download and install\u0026#34; #USAGE arg \u0026#34;\u0026lt;tasks\u0026gt;\u0026#34; help=\u0026#34;List of tasks to download and install (comma separated)\u0026#34; #USAGE flag \u0026#34;-d --directory \u0026lt;directory\u0026gt;\u0026#34; help=\u0026#34;Directory where tasks will be installed (default: shared-tasks)\u0026#34; REPO_URL=\u0026#34;git@github.com:owner/mise-shared-tasks.git\u0026#34; TMP_DIR=$(mktemp -d) TASK_DIR=\u0026#34;${usage_directory:-shared-tasks}\u0026#34; TASKS=${usage_tasks} VERSION=${usage_version} # Info echo \u0026#34;========================================================================================================================\u0026#34; echo \u0026#34;Downloading tasks from $REPO_URL\u0026#34; echo \u0026#34;Repo version: $VERSION\u0026#34; echo \u0026#34;Installing tasks in $TASK_DIR\u0026#34; echo \u0026#34;Tasks to install: $TASKS\u0026#34; echo \u0026#34;========================================================================================================================\u0026#34; # Clean existing tasks if [ -d \u0026#34;$TASK_DIR\u0026#34; ]; then echo \u0026#34;🧹 Cleaning tasks directory\u0026#34; rm -rf \u0026#34;$TASK_DIR\u0026#34; fi # Create tasks directory echo \u0026#34;📁 Creating tasks directory\u0026#34; mkdir -p \u0026#34;$TASK_DIR\u0026#34; # Clone repo echo \u0026#34;📥 Cloning repository\u0026#34; git clone \u0026#34;$REPO_URL\u0026#34; \u0026#34;$TMP_DIR\u0026#34; --branch \u0026#34;$VERSION\u0026#34; --depth 1 \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 # Copy selected tasks IFS=\u0026#39;,\u0026#39; read -r -a TASK_ARRAY \u0026lt;\u0026lt;\u0026lt; \u0026#34;$TASKS\u0026#34; for TASK in \u0026#34;${TASK_ARRAY[@]}\u0026#34;; do if [ -d \u0026#34;$TMP_DIR/shared-tasks/$TASK\u0026#34; ]; then cp -r \u0026#34;$TMP_DIR/shared-tasks/$TASK\u0026#34; \u0026#34;$TASK_DIR/\u0026#34; echo \u0026#34;🖨️ Copied $TASK to $TASK_DIR\u0026#34; else echo \u0026#34;🚨 Directory $TASK does not exist in the repository.\u0026#34; fi done # Add .gitignore echo \u0026#34;🤷 Creating .gitignore file\u0026#34; cat \u0026lt;\u0026lt;EOF \u0026gt; \u0026#34;$TASK_DIR/.gitignore\u0026#34; * !.gitignore EOF # Cleanup echo \u0026#34;🧹 Cleaning temporary directory\u0026#34; rm -rf \u0026#34;$TMP_DIR\u0026#34; This simple but powerful tool ensures that all your teams, tools, and pipelines speak the same language—without requiring everyone to reinvent the wheel.\n📁 Project integration Using the shared tasks in your own project is easy. Just update your mise.toml like this:\n[task_config] includes = [\u0026#34;shared-tasks\u0026#34;, \u0026#34;tasks\u0026#34;] [tasks.download-shared-tasks] description = \u0026#34;Download shared tasks\u0026#34; hide = true file = \u0026#34;git::ssh://git@github.com:owner/mise-tasks.git//shared-tasks/download-tasks?ref=\u0026lt;branch/tag\u0026gt;\u0026#34; [tasks.apply-shared-tasks] description = \u0026#34;📩 Download shared tasks in the current workspace\u0026#34; wait_for = \u0026#34;download-shared-tasks\u0026#34; run = \u0026#34;mise download-shared-tasks \u0026lt;branch/tag\u0026gt; aws,terraform,terragrunt\u0026#34; Then simply run:\nmise apply-shared-tasks And voilà—you’ve got consistent, versioned, ready-to-use tasks in your project.\n📚 References \u0026amp; Next Steps Remote tasks ","permalink":"https://blog.ace-dev.me/posts/2025/04/how-we-use-mise-at-work-part-3/","summary":"\u003ch2 id=\"-reduce-your-boilerplate\"\u003e🧼 Reduce your boilerplate\u003c/h2\u003e\n\u003cp\u003eAs mentioned in \u003ca href=\"/posts/2025/04/how-we-use-mise-at-work-part-1/\"\u003ePart 1\u003c/a\u003e, we’ve moved away from Makefiles and bash scripts in favor of \u003ccode\u003emise\u003c/code\u003e. In this final post of the series, I’ll walk you through how we’ve taken things further by sharing tasks across projects and environments—speeding up onboarding and keeping things consistent between dev machines and CI/CD.\u003c/p\u003e\n\u003ch2 id=\"-how-tasks-work-in-mise\"\u003e⚙️ How tasks work in \u003ccode\u003emise\u003c/code\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003emise\u003c/code\u003e offers multiple ways to define and run tasks. After experimenting, we’ve decided to use a mix of both TOML-based and file-based tasks to get the best of both worlds.\u003c/p\u003e","title":"Sharing Tasks with Mise – How We Standardize and Scale Across Projects"},{"content":"In our development team, consistency and automation are essential. Here\u0026rsquo;s how we use Microsoft DevContainers and the fantastic mise tool to streamline tooling and environment setup. The combination of both provides a clean, reliable, and reproducible workflow that scales with the team.\nDevContainers and Mise ❤️ Using Microsoft DevContainers has significantly improved our development workflow by offering consistent environments across different machines. They make onboarding faster and smoother, especially for new team members, by encapsulating all dependencies and tools. However, one of the trade-offs is the added complexity introduced by layered features like Dockerfile extensions and Compose setups. These layers can sometimes obscure what\u0026rsquo;s really happening under the hood, making debugging and customization more challenging.\nTo help manage this complexity, we\u0026rsquo;ve introduced Mise into our stack. Mise has simplified the tooling aspect of our development setup by handling all runtime versions through a single, unified interface. By offloading tool and language version management from the container itself, we reduce complexity and gain more transparency and control over our environment.\n📦 Generate a DevContainer Configuration with Mise Once mise is installed, you can leverage it to generate a DevContainer configuration. This feature is particularly useful for creating a consistent development environment across different machines or team members.\nBasic Usage Navigate to your project directory and run:\nmise generate devcontainer This command will generate a .devcontainer/devcontainer.json file with default settings.\nCustomizing the DevContainer You can customize the generated DevContainer by using various flags:\nSpecify a Name: Assign a custom name to your DevContainer. mise generate devcontainer --name my-project Choose a Base Image: Define the Docker image to use. mise generate devcontainer --image node:18 Mount mise Data Volume: Bind the mise data volume to the DevContainer. mise generate devcontainer --mount-mise-data By using the mise data volume, you can share tools and runtimes across multiple DevContainers, drastically reducing redundant downloads and conserving disk space on your machine.\n💼 Real World Example 🛠️ Example mise.toml Here\u0026rsquo;s a basic mise.toml file we include in our project root to define the tools and their versions:\n[tools] pre-commit = \u0026#34;4.2\u0026#34; python = \u0026#34;3.13\u0026#34; This file tells mise exactly which versions to use for each tool, ensuring consistency across environments.\n📁 Example devcontainer.json Here\u0026rsquo;s a complete sample configuration that we use in our company. It brings together the benefits of DevContainers, mise features, and volume mounts to create a powerful and reusable setup:\n{ \u0026#34;name\u0026#34;: \u0026#34;my-project\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/base:ubuntu-24.04\u0026#34;, \u0026#34;features\u0026#34;: { \u0026#34;ghcr.io/devcontainers-extra/features/mise:1\u0026#34;: {} }, \u0026#34;customizations\u0026#34;: { \u0026#34;vscode\u0026#34;: { \u0026#34;extensions\u0026#34;: [\u0026#34;hverlin.mise-vscode\u0026#34;] } }, \u0026#34;mounts\u0026#34;: [ { \u0026#34;source\u0026#34;: \u0026#34;mise-data-volume\u0026#34;, \u0026#34;target\u0026#34;: \u0026#34;/mnt/mise-data\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;volume\u0026#34; }, { \u0026#34;source\u0026#34;: \u0026#34;${localEnv:HOME}${localEnv:USERPROFILE}/.ssh\u0026#34;, \u0026#34;target\u0026#34;: \u0026#34;/home/vscode/.ssh\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;bind\u0026#34; } ], \u0026#34;containerEnv\u0026#34;: { \u0026#34;MISE_DATA_DIR\u0026#34;: \u0026#34;/mnt/mise-data\u0026#34; }, \u0026#34;postCreateCommand\u0026#34;: \u0026#34;.devcontainer/scripts/postCreate.sh\u0026#34;, \u0026#34;postStartCommand\u0026#34;: \u0026#34;.devcontainer/scripts/postStart.sh\u0026#34; } This setup uses a shared mise data volume for tool caching, mounts your SSH keys for convenience, and hooks into container lifecycle events with custom scripts. It\u0026rsquo;s a solid foundation for scalable and consistent development environments.\n🧩 Example postCreate.sh Script Here’s an example of a postCreate.sh script we use to finalize container setup and ensure proper permissions:\n#!/usr/bin/env bash set -e #------------------------------ # FUNCTIONS #------------------------------ print_command() { local message=$1 local icon=$2 echo -e \u0026#34;\\e[34m»»» $icon \\e[32m$message\\e[0m ...\u0026#34; } MISE=$(which mise) if [ -z \u0026#34;$MISE\u0026#34; ]; then print_command \u0026#34;Mise is not installed. Please install Mise before running this script.\u0026#34; \u0026#34;❌\u0026#34; exit 1 fi #------------------------------ # Permissions #------------------------------ print_command \u0026#34;Setting up permissions...\u0026#34; \u0026#34;🔧\u0026#34; sudo chown -R vscode:vscode /mnt/mise-data print_command \u0026#34;Permissions are set up!\u0026#34; \u0026#34;✅\u0026#34; This script ensures that the mise data directory is writable by the vscode user inside the container, which avoids permission issues when installing or using tools.\n🧩 Example postStart.sh Script Here’s the postStart.sh script we use to complete environment configuration and setup once the container is running:\n#!/usr/bin/env bash set -e #------------------------------ # FUNCTIONS #------------------------------ print_command() { local message=$1 local icon=$2 echo -e \u0026#34;\\e[34m»»» $icon \\e[32m$message\\e[0m ...\u0026#34; } #------------------------------ # MISE #------------------------------ MISE=$(which mise) if [ -z \u0026#34;$MISE\u0026#34; ]; then echo \u0026#34;Mise is not installed. Please install Mise before running this script.\u0026#34; exit 1 fi print_command \u0026#34;Configuring Mise...\u0026#34; \u0026#34;🔧\u0026#34; $MISE trust echo \u0026#34;eval $($MISE activate bash)\u0026#34; \u0026gt;\u0026gt; ~/.bashrc echo \u0026#34;eval $($MISE activate zsh)\u0026#34; \u0026gt;\u0026gt; ~/.zshrc print_command \u0026#34;Mise is configured!\u0026#34; \u0026#34;✅\u0026#34; print_command \u0026#34;Setting up Mise environment...\u0026#34; \u0026#34;🚀\u0026#34; $MISE i print_command \u0026#34;Mise environment is set up!\u0026#34; \u0026#34;✅\u0026#34; # Get tools GIT=$(which git) #------------------------------ # PRE COMMIT #------------------------------ print_command \u0026#34;Configuring pre-commit...\u0026#34; \u0026#34;🔧\u0026#34; $MISE exec -- pre-commit install --install-hooks $MISE exec -- pre-commit install --hook-type commit-msg print_command \u0026#34;Pre-commit is configured!\u0026#34; \u0026#34;✅\u0026#34; #------------------------------ # CONFIGURE ENV #------------------------------ print_command \u0026#34;Configuring environment...\u0026#34; \u0026#34;🔧\u0026#34; $GIT config --global pull.rebase false print_command \u0026#34;Environment is configured!\u0026#34; \u0026#34;✅\u0026#34; This script not only activates mise in supported shells, but also installs project tools, sets up pre-commit hooks, and adjusts global Git settings—wrapping up your container boot process with a clean and ready-to-code environment.\n📚 References \u0026amp; Next Steps Mise Documentation DevContainers Documentation Explore custom features for DevContainers ","permalink":"https://blog.ace-dev.me/posts/2025/04/how-we-use-mise-at-work-part-2/","summary":"\u003cp\u003eIn our development team, consistency and automation are essential. Here\u0026rsquo;s how we use Microsoft DevContainers and the fantastic \u003ccode\u003emise\u003c/code\u003e tool to streamline tooling and environment setup. The combination of both provides a clean, reliable, and reproducible workflow that scales with the team.\u003c/p\u003e\n\u003ch2 id=\"devcontainers-and-mise-\"\u003eDevContainers and Mise ❤️\u003c/h2\u003e\n\u003cp\u003eUsing Microsoft DevContainers has significantly improved our development workflow by offering consistent environments across different machines. They make onboarding faster and smoother, especially for new team members, by encapsulating all dependencies and tools. However, one of the trade-offs is the added complexity introduced by layered features like Dockerfile extensions and Compose setups. These layers can sometimes obscure what\u0026rsquo;s really happening under the hood, making debugging and customization more challenging.\u003c/p\u003e","title":"How We Use Mise and DevContainers to Simplify Development"},{"content":"Reflecting on Our Legacy: Makefiles and Bash Scripts For many years, Makefiles and bash scripts were the faithful workhorses of our development process. They efficiently automated our tasks, were well-understood by developers, and did the job reliably, day in and day out. Whether it was setting up development environments or automating builds, these familiar tools were the backbone of our workflows.\nHowever, as our organization expanded, our trusty old tools began showing signs of strain:\nRepository Explosion: Each new repository came with its own Makefile and bash scripts. Maintaining uniformity across numerous repositories became increasingly complex and time-consuming. CI/CD Complexity: Our Jenkins pipelines required multiple specialized build agents. This created a cumbersome process of: Maintaining various agent images Resolving frequent tool-version conflicts Regularly updating and versioning the agent environments Ensuring essential tools were always available and consistent Onboarding Challenges: New developers often found themselves bogged down by our customized Makefile conventions and complex scripts, slowing their integration and productivity. It became clear—we needed a modern solution.\nDiscovering Mise: 🚀 A Game-Changer! During the 2024 winter vacation, I stumbled upon Mise—it felt like opening the perfect gift 🎁. Mise instantly addressed challenges we\u0026rsquo;d faced for years and simplified our workflow tremendously.\nHere’s why we embraced Mise:\nUnified Development Environment 🌐\nClearly documented tasks Consistent, reproducible environments Flawless Linux and macOS compatibility Eliminates \u0026ldquo;it works on my machine\u0026rdquo; frustrations Streamlined CI/CD Integration 🔄\nNo more specialized build agents Simple, unified tool management Built-in versioning of tools Seamless alignment between local and CI/CD setups Improved Developer Experience 💡\nIntuitive and easy-to-learn tasks Quick onboarding for new team members Excellent documentation of setups and tools Automatic management of tool installations Easy Maintenance 🛠️\nSingle version source for tools across projects Easy updates across repositories Built-in support for multiple languages Thriving community-driven plugins The Positive Impact of Mise Switching to Mise has been transformative. We now enjoy a smoother workflow, fewer compatibility headaches, and simplified maintenance. Our CI/CD pipelines are simpler, and both new and seasoned developers become productive faster.\nReady to Try Mise? If Mise sounds like the solution you\u0026rsquo;ve been waiting for, I highly encourage you to give it a try. Explore the official Mise getting started guide to experience firsthand how Mise can simplify and enhance your development workflow.\n","permalink":"https://blog.ace-dev.me/posts/2025/04/how-we-use-mise-at-work-part-1/","summary":"\u003ch2 id=\"reflecting-on-our-legacy-makefiles-and-bash-scripts\"\u003eReflecting on Our Legacy: Makefiles and Bash Scripts\u003c/h2\u003e\n\u003cp\u003eFor many years, Makefiles and bash scripts were the faithful workhorses of our development process. They efficiently automated our tasks, were well-understood by developers, and did the job reliably, day in and day out. Whether it was setting up development environments or automating builds, these familiar tools were the backbone of our workflows.\u003c/p\u003e\n\u003cp\u003eHowever, as our organization expanded, our trusty old tools began showing signs of strain:\u003c/p\u003e","title":"The Journey from Makefiles to Mise: Transforming Our Development Workflow"},{"content":"A swimming pool is an excellent addition to any home, especially during hot summer months. Not only does it provide a perfect way to relax after work, but with proper automation, you can also optimize energy consumption by controlling the pool pump motor efficiently.\nHardware Requirements For this automation project, I selected the following components:\nINTEX SX1500 SONOFF ZBMini OWON THS317-ET I prefer using Zigbee devices for my home automation setup due to their reliability and low power consumption.\nInstallation Process Note: The INTEX SX1500 cannot be triggered directly as it has a built-in scheduler. I modified the electrical box to bypass this feature and enable direct control of the pool pump.\nConnect the pump to the ZBMini following the wiring diagram below: Place the temperature sensor in the water and position the electrical box containing the ZBMini in a suitable location Open Home Assistant, navigate to Zigbee2MQTT, and pair each new device: The OWON THS317-ET battery typically lasts approximately 12 months.\nHome Assistant and Node-RED Configuration Creating Helpers Create a new helper in Home Assistant:\nNode-RED Flow Setup Create a new flow in Node-RED with the following components:\nAdd a cron trigger Check the current \u0026ldquo;Pool mode\u0026rdquo; Retrieve the temperature sensor value Evaluate the temperature: Below 19°C Between 19°C and 28°C Above 28°C Set the appropriate delay in milliseconds and display the value Implement a wait timer Call Home Assistant service to start/stop the pump You can import my flow configuration:\n[{\u0026#34;id\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;tab\u0026#34;,\u0026#34;label\u0026#34;:\u0026#34;Piscine\u0026#34;,\u0026#34;disabled\u0026#34;:false,\u0026#34;info\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;env\u0026#34;:[]},{\u0026#34;id\u0026#34;:\u0026#34;54f86a2f80028e81\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;api-current-state\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Temperature piscine\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:3,\u0026#34;outputs\u0026#34;:1,\u0026#34;halt_if\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;halt_if_type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;halt_if_compare\u0026#34;:\u0026#34;is\u0026#34;,\u0026#34;entity_id\u0026#34;:\u0026#34;sensor.temperature_piscine_temperature\u0026#34;,\u0026#34;state_type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;blockInputOverrides\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;temperature\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;entityState\u0026#34;}],\u0026#34;for\u0026#34;:\u0026#34;0\u0026#34;,\u0026#34;forType\u0026#34;:\u0026#34;num\u0026#34;,\u0026#34;forUnits\u0026#34;:\u0026#34;minutes\u0026#34;,\u0026#34;override_topic\u0026#34;:false,\u0026#34;state_location\u0026#34;:\u0026#34;payload\u0026#34;,\u0026#34;override_payload\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;entity_location\u0026#34;:\u0026#34;data\u0026#34;,\u0026#34;override_data\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;x\u0026#34;:460,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[\u0026#34;41106ef97c8b87d1\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;09e62ee1149b049d\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;cronplus\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Filtration\u0026#34;,\u0026#34;outputField\u0026#34;:\u0026#34;payload\u0026#34;,\u0026#34;timeZone\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;persistDynamic\u0026#34;:false,\u0026#34;commandResponseMsgOutput\u0026#34;:\u0026#34;output1\u0026#34;,\u0026#34;outputs\u0026#34;:1,\u0026#34;options\u0026#34;:[{\u0026#34;name\u0026#34;:\u0026#34;schedule1\u0026#34;,\u0026#34;topic\u0026#34;:\u0026#34;topic1\u0026#34;,\u0026#34;payloadType\u0026#34;:\u0026#34;default\u0026#34;,\u0026#34;payload\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;expressionType\u0026#34;:\u0026#34;cron\u0026#34;,\u0026#34;expression\u0026#34;:\u0026#34;0 12,20 * * *\u0026#34;,\u0026#34;location\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;offset\u0026#34;:\u0026#34;0\u0026#34;,\u0026#34;solarType\u0026#34;:\u0026#34;all\u0026#34;,\u0026#34;solarEvents\u0026#34;:\u0026#34;sunrise,sunset\u0026#34;}],\u0026#34;x\u0026#34;:60,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[\u0026#34;5ba7f500dec07972\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;41106ef97c8b87d1\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;switch\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Temps de filtration\u0026#34;,\u0026#34;property\u0026#34;:\u0026#34;temperature\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;rules\u0026#34;:[{\u0026#34;t\u0026#34;:\u0026#34;lt\u0026#34;,\u0026#34;v\u0026#34;:\u0026#34;19\u0026#34;,\u0026#34;vt\u0026#34;:\u0026#34;num\u0026#34;},{\u0026#34;t\u0026#34;:\u0026#34;btwn\u0026#34;,\u0026#34;v\u0026#34;:\u0026#34;19\u0026#34;,\u0026#34;vt\u0026#34;:\u0026#34;num\u0026#34;,\u0026#34;v2\u0026#34;:\u0026#34;28\u0026#34;,\u0026#34;v2t\u0026#34;:\u0026#34;num\u0026#34;},{\u0026#34;t\u0026#34;:\u0026#34;gt\u0026#34;,\u0026#34;v\u0026#34;:\u0026#34;28\u0026#34;,\u0026#34;vt\u0026#34;:\u0026#34;num\u0026#34;}],\u0026#34;checkall\u0026#34;:\u0026#34;false\u0026#34;,\u0026#34;repair\u0026#34;:false,\u0026#34;outputs\u0026#34;:3,\u0026#34;x\u0026#34;:730,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[\u0026#34;62487d3928d7818a\u0026#34;],[\u0026#34;d2d4dd97d3a866d6\u0026#34;],[\u0026#34;0c7a7c757d7beb72\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;b5e423120081925c\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;trigger\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Durée traitement\u0026#34;,\u0026#34;op1\u0026#34;:\u0026#34;on\u0026#34;,\u0026#34;op2\u0026#34;:\u0026#34;off\u0026#34;,\u0026#34;op1type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;op2type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;duration\u0026#34;:\u0026#34;250\u0026#34;,\u0026#34;extend\u0026#34;:false,\u0026#34;overrideDelay\u0026#34;:true,\u0026#34;units\u0026#34;:\u0026#34;ms\u0026#34;,\u0026#34;reset\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;bytopic\u0026#34;:\u0026#34;all\u0026#34;,\u0026#34;topic\u0026#34;:\u0026#34;topic\u0026#34;,\u0026#34;outputs\u0026#34;:2,\u0026#34;x\u0026#34;:1250,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[\u0026#34;3ef0ae743e1b3881\u0026#34;],[\u0026#34;6ca837267708a777\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;62487d3928d7818a\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;change\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;1h\u0026#34;,\u0026#34;rules\u0026#34;:[{\u0026#34;t\u0026#34;:\u0026#34;set\u0026#34;,\u0026#34;p\u0026#34;:\u0026#34;delay\u0026#34;,\u0026#34;pt\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;3600000\u0026#34;,\u0026#34;tot\u0026#34;:\u0026#34;str\u0026#34;},{\u0026#34;t\u0026#34;:\u0026#34;set\u0026#34;,\u0026#34;p\u0026#34;:\u0026#34;filtration\u0026#34;,\u0026#34;pt\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;1h\u0026#34;,\u0026#34;tot\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;action\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;property\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;from\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;reg\u0026#34;:false,\u0026#34;x\u0026#34;:990,\u0026#34;y\u0026#34;:660,\u0026#34;wires\u0026#34;:[[\u0026#34;b5e423120081925c\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;d2d4dd97d3a866d6\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;change\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;1h30\u0026#34;,\u0026#34;rules\u0026#34;:[{\u0026#34;t\u0026#34;:\u0026#34;set\u0026#34;,\u0026#34;p\u0026#34;:\u0026#34;delay\u0026#34;,\u0026#34;pt\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;5400000\u0026#34;,\u0026#34;tot\u0026#34;:\u0026#34;str\u0026#34;},{\u0026#34;t\u0026#34;:\u0026#34;set\u0026#34;,\u0026#34;p\u0026#34;:\u0026#34;filtration\u0026#34;,\u0026#34;pt\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;1h30\u0026#34;,\u0026#34;tot\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;action\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;property\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;from\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;reg\u0026#34;:false,\u0026#34;x\u0026#34;:990,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[\u0026#34;b5e423120081925c\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;0c7a7c757d7beb72\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;change\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;2h\u0026#34;,\u0026#34;rules\u0026#34;:[{\u0026#34;t\u0026#34;:\u0026#34;set\u0026#34;,\u0026#34;p\u0026#34;:\u0026#34;delay\u0026#34;,\u0026#34;pt\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;7200000\u0026#34;,\u0026#34;tot\u0026#34;:\u0026#34;str\u0026#34;},{\u0026#34;t\u0026#34;:\u0026#34;set\u0026#34;,\u0026#34;p\u0026#34;:\u0026#34;filtration\u0026#34;,\u0026#34;pt\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;2h\u0026#34;,\u0026#34;tot\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;action\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;property\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;from\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;to\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;reg\u0026#34;:false,\u0026#34;x\u0026#34;:990,\u0026#34;y\u0026#34;:780,\u0026#34;wires\u0026#34;:[[\u0026#34;b5e423120081925c\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;3ef0ae743e1b3881\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;api-call-service\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Allumer piscine\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:5,\u0026#34;debugenabled\u0026#34;:false,\u0026#34;domain\u0026#34;:\u0026#34;switch\u0026#34;,\u0026#34;service\u0026#34;:\u0026#34;turn_on\u0026#34;,\u0026#34;areaId\u0026#34;:[],\u0026#34;deviceId\u0026#34;:[],\u0026#34;entityId\u0026#34;:[\u0026#34;switch.switch_piscine\u0026#34;],\u0026#34;data\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;dataType\u0026#34;:\u0026#34;jsonata\u0026#34;,\u0026#34;mergeContext\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;mustacheAltTags\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;message\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;Allumée\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;queue\u0026#34;:\u0026#34;none\u0026#34;,\u0026#34;x\u0026#34;:1520,\u0026#34;y\u0026#34;:660,\u0026#34;wires\u0026#34;:[[\u0026#34;7de9d7c35046f82d\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;7de9d7c35046f82d\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;ha-wait-until\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Wait on or retry\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:2,\u0026#34;outputs\u0026#34;:2,\u0026#34;entityId\u0026#34;:\u0026#34;switch.switch_piscine\u0026#34;,\u0026#34;entityIdFilterType\u0026#34;:\u0026#34;exact\u0026#34;,\u0026#34;property\u0026#34;:\u0026#34;state\u0026#34;,\u0026#34;comparator\u0026#34;:\u0026#34;is\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;on\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;timeout\u0026#34;:\u0026#34;1\u0026#34;,\u0026#34;timeoutType\u0026#34;:\u0026#34;num\u0026#34;,\u0026#34;timeoutUnits\u0026#34;:\u0026#34;minutes\u0026#34;,\u0026#34;checkCurrentState\u0026#34;:true,\u0026#34;blockInputOverrides\u0026#34;:true,\u0026#34;outputProperties\u0026#34;:[],\u0026#34;x\u0026#34;:1520,\u0026#34;y\u0026#34;:620,\u0026#34;wires\u0026#34;:[[\u0026#34;e82f89371205d55a\u0026#34;],[\u0026#34;3ef0ae743e1b3881\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;6ca837267708a777\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;api-call-service\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Eteindre piscine\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:5,\u0026#34;debugenabled\u0026#34;:false,\u0026#34;domain\u0026#34;:\u0026#34;switch\u0026#34;,\u0026#34;service\u0026#34;:\u0026#34;turn_off\u0026#34;,\u0026#34;areaId\u0026#34;:[],\u0026#34;deviceId\u0026#34;:[],\u0026#34;entityId\u0026#34;:[\u0026#34;switch.switch_piscine\u0026#34;],\u0026#34;data\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;dataType\u0026#34;:\u0026#34;jsonata\u0026#34;,\u0026#34;mergeContext\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;mustacheAltTags\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;message\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;Eteinte\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;queue\u0026#34;:\u0026#34;none\u0026#34;,\u0026#34;x\u0026#34;:1520,\u0026#34;y\u0026#34;:780,\u0026#34;wires\u0026#34;:[[\u0026#34;2e25dea1e10644d6\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;2e25dea1e10644d6\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;ha-wait-until\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Wait off or retry\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:2,\u0026#34;outputs\u0026#34;:2,\u0026#34;entityId\u0026#34;:\u0026#34;switch.switch_piscine\u0026#34;,\u0026#34;entityIdFilterType\u0026#34;:\u0026#34;exact\u0026#34;,\u0026#34;property\u0026#34;:\u0026#34;state\u0026#34;,\u0026#34;comparator\u0026#34;:\u0026#34;is\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;off\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;timeout\u0026#34;:\u0026#34;1\u0026#34;,\u0026#34;timeoutType\u0026#34;:\u0026#34;num\u0026#34;,\u0026#34;timeoutUnits\u0026#34;:\u0026#34;minutes\u0026#34;,\u0026#34;checkCurrentState\u0026#34;:true,\u0026#34;blockInputOverrides\u0026#34;:true,\u0026#34;outputProperties\u0026#34;:[],\u0026#34;x\u0026#34;:1520,\u0026#34;y\u0026#34;:820,\u0026#34;wires\u0026#34;:[[\u0026#34;e82f89371205d55a\u0026#34;],[\u0026#34;6ca837267708a777\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;5ba7f500dec07972\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;api-current-state\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Mode piscine\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:3,\u0026#34;outputs\u0026#34;:2,\u0026#34;halt_if\u0026#34;:\u0026#34;Normal\u0026#34;,\u0026#34;halt_if_type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;halt_if_compare\u0026#34;:\u0026#34;is\u0026#34;,\u0026#34;entity_id\u0026#34;:\u0026#34;input_select.mode_piscine\u0026#34;,\u0026#34;state_type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;blockInputOverrides\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;mode\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;entityState\u0026#34;}],\u0026#34;for\u0026#34;:\u0026#34;0\u0026#34;,\u0026#34;forType\u0026#34;:\u0026#34;num\u0026#34;,\u0026#34;forUnits\u0026#34;:\u0026#34;minutes\u0026#34;,\u0026#34;override_topic\u0026#34;:false,\u0026#34;state_location\u0026#34;:\u0026#34;payload\u0026#34;,\u0026#34;override_payload\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;entity_location\u0026#34;:\u0026#34;data\u0026#34;,\u0026#34;override_data\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;x\u0026#34;:230,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[\u0026#34;54f86a2f80028e81\u0026#34;],[]]},{\u0026#34;id\u0026#34;:\u0026#34;b5bb7276d000536a\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;server-state-changed\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Mode continu\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:4,\u0026#34;exposeToHomeAssistant\u0026#34;:false,\u0026#34;haConfig\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;name\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;icon\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;}],\u0026#34;entityidfilter\u0026#34;:\u0026#34;input_select.mode_piscine\u0026#34;,\u0026#34;entityidfiltertype\u0026#34;:\u0026#34;exact\u0026#34;,\u0026#34;outputinitially\u0026#34;:false,\u0026#34;state_type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;haltifstate\u0026#34;:\u0026#34;Continu\u0026#34;,\u0026#34;halt_if_type\u0026#34;:\u0026#34;str\u0026#34;,\u0026#34;halt_if_compare\u0026#34;:\u0026#34;is\u0026#34;,\u0026#34;outputs\u0026#34;:2,\u0026#34;output_only_on_state_change\u0026#34;:true,\u0026#34;for\u0026#34;:\u0026#34;0\u0026#34;,\u0026#34;forType\u0026#34;:\u0026#34;num\u0026#34;,\u0026#34;forUnits\u0026#34;:\u0026#34;minutes\u0026#34;,\u0026#34;ignorePrevStateNull\u0026#34;:false,\u0026#34;ignorePrevStateUnknown\u0026#34;:false,\u0026#34;ignorePrevStateUnavailable\u0026#34;:false,\u0026#34;ignoreCurrentStateUnknown\u0026#34;:false,\u0026#34;ignoreCurrentStateUnavailable\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[],\u0026#34;x\u0026#34;:130,\u0026#34;y\u0026#34;:860,\u0026#34;wires\u0026#34;:[[\u0026#34;9a74a6afbea67721\u0026#34;],[\u0026#34;9e74d356eeff4c52\u0026#34;]]},{\u0026#34;id\u0026#34;:\u0026#34;9a74a6afbea67721\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;api-call-service\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Allumer piscine\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:5,\u0026#34;debugenabled\u0026#34;:false,\u0026#34;domain\u0026#34;:\u0026#34;switch\u0026#34;,\u0026#34;service\u0026#34;:\u0026#34;turn_on\u0026#34;,\u0026#34;areaId\u0026#34;:[],\u0026#34;deviceId\u0026#34;:[],\u0026#34;entityId\u0026#34;:[\u0026#34;switch.switch_piscine\u0026#34;],\u0026#34;data\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;dataType\u0026#34;:\u0026#34;jsonata\u0026#34;,\u0026#34;mergeContext\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;mustacheAltTags\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;message\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;Allumée\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;queue\u0026#34;:\u0026#34;none\u0026#34;,\u0026#34;x\u0026#34;:380,\u0026#34;y\u0026#34;:840,\u0026#34;wires\u0026#34;:[[]]},{\u0026#34;id\u0026#34;:\u0026#34;9e74d356eeff4c52\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;api-call-service\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Eteindre piscine\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;version\u0026#34;:5,\u0026#34;debugenabled\u0026#34;:false,\u0026#34;domain\u0026#34;:\u0026#34;switch\u0026#34;,\u0026#34;service\u0026#34;:\u0026#34;turn_off\u0026#34;,\u0026#34;areaId\u0026#34;:[],\u0026#34;deviceId\u0026#34;:[],\u0026#34;entityId\u0026#34;:[\u0026#34;switch.switch_piscine\u0026#34;],\u0026#34;data\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;dataType\u0026#34;:\u0026#34;jsonata\u0026#34;,\u0026#34;mergeContext\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;mustacheAltTags\u0026#34;:false,\u0026#34;outputProperties\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;message\u0026#34;,\u0026#34;propertyType\u0026#34;:\u0026#34;msg\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;Eteinte\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;str\u0026#34;}],\u0026#34;queue\u0026#34;:\u0026#34;none\u0026#34;,\u0026#34;x\u0026#34;:380,\u0026#34;y\u0026#34;:900,\u0026#34;wires\u0026#34;:[[]]},{\u0026#34;id\u0026#34;:\u0026#34;e82f89371205d55a\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;ha-sensor\u0026#34;,\u0026#34;z\u0026#34;:\u0026#34;483e9a57b37cdc8d\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Filtration piscine\u0026#34;,\u0026#34;entityConfig\u0026#34;:\u0026#34;ca7e7d1218501982\u0026#34;,\u0026#34;version\u0026#34;:0,\u0026#34;state\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;stateType\u0026#34;:\u0026#34;date\u0026#34;,\u0026#34;attributes\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;temperature\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;temperature\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;msg\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;duration\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;filtration\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;msg\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;last_start\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;date\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;last_stop\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;valueType\u0026#34;:\u0026#34;date\u0026#34;}],\u0026#34;inputOverride\u0026#34;:\u0026#34;allow\u0026#34;,\u0026#34;outputProperties\u0026#34;:[],\u0026#34;x\u0026#34;:1780,\u0026#34;y\u0026#34;:720,\u0026#34;wires\u0026#34;:[[]]},{\u0026#34;id\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;server\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Home Assistant\u0026#34;,\u0026#34;version\u0026#34;:5,\u0026#34;addon\u0026#34;:true,\u0026#34;rejectUnauthorizedCerts\u0026#34;:true,\u0026#34;ha_boolean\u0026#34;:\u0026#34;y|yes|true|on|home|open\u0026#34;,\u0026#34;connectionDelay\u0026#34;:true,\u0026#34;cacheJson\u0026#34;:true,\u0026#34;heartbeat\u0026#34;:false,\u0026#34;heartbeatInterval\u0026#34;:30,\u0026#34;areaSelector\u0026#34;:\u0026#34;friendlyName\u0026#34;,\u0026#34;deviceSelector\u0026#34;:\u0026#34;friendlyName\u0026#34;,\u0026#34;entitySelector\u0026#34;:\u0026#34;friendlyName\u0026#34;,\u0026#34;statusSeparator\u0026#34;:\u0026#34;at: \u0026#34;,\u0026#34;statusYear\u0026#34;:\u0026#34;hidden\u0026#34;,\u0026#34;statusMonth\u0026#34;:\u0026#34;short\u0026#34;,\u0026#34;statusDay\u0026#34;:\u0026#34;numeric\u0026#34;,\u0026#34;statusHourCycle\u0026#34;:\u0026#34;h23\u0026#34;,\u0026#34;statusTimeFormat\u0026#34;:\u0026#34;h:m\u0026#34;,\u0026#34;enableGlobalContextStore\u0026#34;:true},{\u0026#34;id\u0026#34;:\u0026#34;ca7e7d1218501982\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;ha-entity-config\u0026#34;,\u0026#34;server\u0026#34;:\u0026#34;c083033.86b9\u0026#34;,\u0026#34;deviceConfig\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;sensor config for Filtration piscine\u0026#34;,\u0026#34;version\u0026#34;:6,\u0026#34;entityType\u0026#34;:\u0026#34;sensor\u0026#34;,\u0026#34;haConfig\u0026#34;:[{\u0026#34;property\u0026#34;:\u0026#34;name\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;filtration_piscine\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;device_class\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;icon\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;unit_of_measurement\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;state_class\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;},{\u0026#34;property\u0026#34;:\u0026#34;last_reset\u0026#34;,\u0026#34;value\u0026#34;:\u0026#34;\u0026#34;}],\u0026#34;resend\u0026#34;:true}] Your Node-RED flow should look like this:\nHome Assistant Dashboard Create a custom dashboard in Home Assistant to monitor and control your pool:\nThat\u0026rsquo;s it! Your swimming pool is now fully automated, allowing you to enjoy your pool while saving energy and money. \u0026#x1f604;\n","permalink":"https://blog.ace-dev.me/posts/2023/01/howto-automate-your-swimmingpool/","summary":"\u003cp\u003eA swimming pool is an excellent addition to any home, especially during hot summer months. Not only does it provide a perfect way to relax after work, but with proper automation, you can also optimize energy consumption by controlling the pool pump motor efficiently.\u003c/p\u003e","title":"How to Automate Your Swimming Pool with Home Assistant"},{"content":"Since building my house, I\u0026rsquo;ve been passionate about automating everything. Today, I\u0026rsquo;m excited to share my latest project: automating my gate.\nImplementation Guide Hardware Selection I chose the CAME BX-243 gate opener, which doesn\u0026rsquo;t support home automation natively.\nWhile CAME products are slightly more expensive than alternatives, their equipment is known for superior build quality and reliability.\nThe installation process can be challenging for first-timers, but with proper attention to detail, you can have your gate fully operational within a few hours.\nAutomation Requirements When planning the automation, I established several key criteria:\nHome Assistant compatibility User-friendly configuration Local operation (no cloud dependency) Open-source based solution Compact size to fit within the gate control box After extensive research, I discovered the perfect solution:\nShelly UNI on Amazon - ~15€\nWiring Configuration Shelly CAME VCC 10 N 11 IN_1 5 OUT1 GND 2 OUT1 AC/DC 7 Final installation:\nFirmware Installation While the device works out of the box, I chose to flash it with ESPHome for better integration. Here\u0026rsquo;s the process:\nConnect the device to your network Flash with Tasmota using mgos-to-tasmota Flash with Tasmota minimal firmware (http://ota.tasmota.com/tasmota/tasmota-minimal.bin.gz) Generate an ESPHome binary using the following configuration in your Home Assistant ESPHome addon: esphome: name: portail esp8266: board: esp01_1m # Enable logging logger: # Enable Home Assistant API api: encryption: key: \u0026#34;your_encryptionkey\u0026#34; ota: password: \u0026#34;your_password\u0026#34; wifi: ssid: !secret wifi_ssid password: !secret wifi_password # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: \u0026#34;Portail Fallback Hotspot\u0026#34; password: \u0026#34;your_password\u0026#34; captive_portal: web_server: port: 80 # Input #GPIO12 (1) #GPIO13 (2) # Output (Relay) # GPIO04 (2) # GPIO15 (1) binary_sensor: - platform: gpio id: gate_sensor name: \u0026#34;Gate Sensor\u0026#34; pin: GPIO12 filters: - delayed_on_off: 50ms switch: - platform: gpio pin: GPIO15 name: \u0026#34;Gate Switch\u0026#34; icon: \u0026#34;mdi:gate\u0026#34; id: gate_switch on_turn_on: - delay: 500ms - switch.turn_off: gate_switch cover: - platform: template name: \u0026#34;Portail\u0026#34; icon: \u0026#34;mdi:gate\u0026#34; device_class: gate lambda: |- if (id(gate_sensor).state) { return COVER_CLOSED; } else { return COVER_OPEN; } open_action: - switch.turn_on: gate_switch close_action: - switch.turn_on: gate_switch stop_action: - switch.turn_on: gate_switch optimistic: true assumed_state: false With this setup, you can now control your gate and monitor its status through your preferred home automation system.\nThat\u0026rsquo;s it! Your gate is now fully automated and integrated with Home Assistant.\n","permalink":"https://blog.ace-dev.me/posts/2023/01/howto-automate-your-gate/","summary":"\u003cp\u003eSince building my house, I\u0026rsquo;ve been passionate about automating everything. Today, I\u0026rsquo;m excited to share my latest project: automating my gate.\u003c/p\u003e","title":"How to Automate Your Gate with Home Assistant and ESPHome"},{"content":"Hi 👋 My name is Pierre-Emmanuel Mercier\n🖥️ I\u0026rsquo;m a Software Architect 🏣 I’m currently working at Betclic Group (Gambling Company) 🏠 I live in France 💬 Ask me about Python, .Net, Docker, AWS, Azure 🌐 Socials: ","permalink":"https://blog.ace-dev.me/about/","summary":"about","title":"💫 About Me"}]